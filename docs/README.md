# 📄 기능 목록
![image](https://story.baemin.com/wp-content/uploads/2023/10/%EB%B0%B0%EB%AF%BC%EB%8B%A4%EC%9B%80_1920x710.png)
![badge-name](https://img.shields.io/badge/woowacouase-precourse-blue.svg) ![badge-name](https://img.shields.io/badge/Java-christmas-red.svg) ![badge-name](https://img.shields.io/badge/week-4-green.svg)

---

## 🚀 기능 요구 사항
우테코 식당에서 진행하는 12월 크리스마스 프로모션을 위한 기능을 구현해야한다. 계획된 이벤트는 다음과 같다.
> ### 12월 이벤트
> - 크리스마스 디데이 할인
>   - 이벤트 기간 `2023.12.01 ~ 2023.12.25`
>   - 1,000원으로 시작하여 날마다 할인 금액 100원씩 증가
> - 평일 할인 (일요일 ~ 목요일) : `디저트 메뉴` 1개당 `2,023원` 할인
> - 주말 할인 (금요일 ~ 토요일) : `메인 메뉴` 1개당 `2,023원` 할인
> - 특별 할인 : 이벤트 달력에 별이 있으면 총 주문 금액에서 `1,000원` 할인
> - 증정 이벤트 : 할인 전 총 주문 금액이 `12만원` 이상일 때, `샴페인 1개` 증정
> - 이벤트 기간: `2023.12.01 ~ 2023.12.31` (크리스마스 디데이 할인 제외)

이벤트는 중복된 할인과 증정이 허용된다.

### 혜택 금액에 따른 12월 이벤트 배지 부여
- `총혜택 금액`에 따른 이벤트 배지를 부여한다.  
- 배지 목록
  - `5,000원` 이상 : 별
  - `10,000원` 이상 : 트리
  - `20,000원` 이상 : 산타

### 고객에게 안내할 주의 사항
- 총 주문 금액 `10,000원` 이상부터 이벤트 적용
- 음료만 주문 시, 주문 불가능
- 메뉴는 한 번에 최대 20개까지 주문 가능

### 기타 정보
- 메뉴
```java
<애피타이저>
양송이수프(6,000), 타파스(5,500), 시저샐러드(8,000)

<메인>
티본스테이크(55,000), 바비큐립(54,000), 해산물파스타(35,000), 크리스마스파스타(25,000)

<디저트>
초코케이크(15,000), 아이스크림(5,000)

<음료>
제로콜라(3,000), 레드와인(60,000), 샴페인(25,000)
```
- `총혜택 금액` = 할인 금액의 합계 + 증정 메뉴의 가격 
- `할인 후 예상 결제 금액` = 할인 전 총주문 금액 - 할인 금액

## 🖥️ 입출력 요구 사항
### 입력
- 고객들이 식당에 방문할 날짜를 입력 받는다. 방문할 날짜는 1 이상 31 이하의 숫자로만 입력 받으며, 해당 범위에 벗어난 숫자의 경우 예외 처리를 한다. 
```
12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)
```
- 주문할 메뉴와 개수를 입력 받는다. 고객이 잘못된 입력을 하는 경우, 예외 처리를 한다.
```
주문하실 메뉴와 개수를 알려 주세요. (e.g. 해산물파스타-2,레드와인-1,초코케이크-1)
```

### 출력
- 예상되는 주문 메뉴, 할인 전 총 주문 금액, 증정 메뉴, 혜택 내역, 총 혜택 금액, 할인 후 예상 결제 금액, 12월 이벤트 배지 내용을 출력한다.
```
<주문 메뉴>
티본스테이크 1개
바비큐립 1개
초코케이크 2개
제로콜라 1개
 
<할인 전 총주문 금액>
142,000원
 
<증정 메뉴>
샴페인 1개
 
<혜택 내역>
크리스마스 디데이 할인: -1,200원
평일 할인: -4,046원
특별 할인: -1,000원
증정 이벤트: -25,000원
 
<총혜택 금액>
-31,246원
 
<할인 후 예상 결제 금액>
135,754원
 
<12월 이벤트 배지>
산타
```
- 만일 증정 메뉴, 혜택 내역, 이벤트 배지에 적용된 이벤트 사항이 없는 경우, `없음`을 출력한다.

### 에러
- 모든 에러 메시지는 `[ERROR]`로 시작한다.
- 예상 방문 날짜가 1이상 31 이하의 숫자가 아닌 경우, `유효하지 않은 날짜입니다. 다시 입력해 주세요.`라는 에러 메시지를 출력한다.
- 고객이 메뉴판에 없는 메뉴를 입력하는 경우, `유효하지 않은 주문입니다. 다시 입력해 주세요.`라는 에러 메시지를 출력한다.
- 고객이 입력한 메뉴의 개수가 1이상이 아닌 경우, `유효하지 않은 주문입니다. 다시 입력해 주세요.`라는 에러 메시지를 출력한다.
- 중복된 메뉴를 입력하는 경우, `유효하지 않은 주문입니다. 다시 입력해 주세요.`라는 에러 메시지를 출력한다.


---
## 구현할 기능 목록
### View
- InputView
  - [x] 고객에게 예상 방문 날짜를 입력 받는다.
    - 숫자가 아닌 다른 문자가 입력 된다면, `InvalidDateException` 예외 발생
  - [x] 고객에게 주문할 메뉴와 개수를 입력 받는다.
    - 메뉴판에 없는 메뉴를 입력하는 경우, 예외 처리
    - 메뉴의 개수가 1이상이 아닌 경우, 예외 처리
    - 중복된 메뉴를 입력하는 경우, 예외처리
- OutputView
  - [x] 할인 전 총주문 금액을 출력한다.
  - [x] 증정 메뉴를 출력한다.
  - [x] 혜택 내역을 출력한다.
  - [x] 총혜택 금액을 출력한다.
  - [x] 12월 이벤트 배지를 출력한다.

### Domain
- [x] EventCalculator
  - Date, Order
  - 증정 상품 반환
  - 예상 계산 금액 반환
  - 예상 배지 종류 반환
  - 예상 총혜택 반환
  - 예상 총할인 반환
- [x] Date
  - date 날짜 저장
    - 1이상 31 이하의 숫자가 아닌 경우, `InvalidDateException` 예외 처리
  - 크리스마스 할인 해당 날짜 확인
  - 주말 인지 아닌 지 확인
  - 특별 할인 해당 날짜 여부 확인
- [x] Menu
  - Enum: name, price, type
- [x] Order
  - Menu, count
  - 존재하지 않는 메뉴가 입력 된 경우, `InvalidOrderException` 예외 처리
  - 입력된 메뉴의 개수가 1이상이 아닌 경우, `InvalidOrderException` 예외 처리
- [x] Orders
  - List<Order>
  - Order중에 중복된 Order가 존재 하는 경우, `InvalidOrderException` 예외 처리
  - 주문 금액 총합 계산
  - 주문 중 dessert 개수 확인
  - 주문 중 main course 개수 확인
- [x] Badge 
  - enum(별, 트리, 산타)

### Controller
- [x] EventPlanner

---
## 확인해 볼 것
- [x] 총주문 금액 10,000원 이상부터 이벤트가 적용되는가?
- [x] 음료만 주문 시, 주문할 수 없는가?
- [x] 메뉴의 총 합이 20보다 이하인가?